RewriteEngine On

# Réécriture pour URLs sans .html si le fichier existe
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME}.html -f
RewriteRule ^([^/]+)/?$ $1.html [L]

# Définir la page d'accueil
DirectoryIndex home.html

# Redirections HTTPS/nom de domaine UNIQUEMENT EN PROD
RewriteCond %{HTTP_HOST} !^localhost [NC]
RewriteCond %{HTTP_HOST} !^127\.0\.0\.1 [NC]
RewriteCond %{HTTPS} off
RewriteRule ^(.*)$ https://canada-credit.fr/$1 [L,R=301]

<IfModule mod_headers.c>
  <FilesMatch "\.(html|php)$">
    Header set Cache-Control "no-cache, no-store, must-revalidate"
    Header set Pragma "no-cache"
    Header set Expires 0
  </FilesMatch>
</IfModule>

<IfModule mod_expires.c>
  ExpiresActive On
  ExpiresDefault "access plus 1 month"

  <FilesMatch "\.(js|css)$">
    ExpiresDefault "access plus 1 hour"
  </FilesMatch>

  <FilesMatch "\.(jpg|jpeg|png|gif|ico|svg)$">
    ExpiresDefault "access plus 1 month"
  </FilesMatch>
</IfModule>
